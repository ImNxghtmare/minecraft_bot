# start_project_simple.ps1
Write-Host "?? ?????? ???????" -ForegroundColor Green

# ??????? .env
"# SQLite ????????????
DATABASE_URL=sqlite+aiosqlite:///./minecraft_bot.db
USE_SQLITE=true
JWT_SECRET_KEY=dev-key
APP_NAME=Minecraft Bot
DEBUG=True" | Out-File ".env"

Write-Host "? .env ??????" -ForegroundColor Green

# ???????? venv
if (!(Test-Path ".venv")) {
    python -m venv .venv
    Write-Host "? ??????????? ????????? ???????" -ForegroundColor Green
}

# ?????????
.venv\Scripts\activate

# ?????????
pip install fastapi uvicorn aiosqlite --quiet

# ??????? app/main.py
if (!(Test-Path "app")) { mkdir app }
@"
from fastapi import FastAPI
import uvicorn

app = FastAPI()

@app.get("/")
def root():
    return {"message": "Minecraft Bot ????????!"}

if __name__ == "__main__":
    print("?? ?????? ???????: http://localhost:8000")
    uvicorn.run(app, host="0.0.0.0", port=8000)
"@ | Out-File "app\main.py"

Write-Host "? ?????????? ???????" -ForegroundColor Green
Write-Host "`n?? ??????..." -ForegroundColor Cyan
python app/main.py
